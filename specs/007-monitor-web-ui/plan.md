# Implementation Plan: ì‹¤ì‹œê°„ ì„¤ë¹„ ëª¨ë‹ˆí„°ë§ ì›¹ UI

**Branch**: `007-monitor-web-ui` | **Date**: 2025-11-03 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/007-monitor-web-ui/spec.md`

## Summary

17ê°œ ì„¤ë¹„ì˜ ì‹¤ì‹œê°„ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” Next.js 14 ê¸°ë°˜ ì›¹ UIë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤. WebSocket ì—°ê²°ì„ í†µí•´ 1ì´ˆ ì£¼ê¸°ë¡œ ì„¤ë¹„ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , Oracle DBì—ì„œ 10ì´ˆ ì£¼ê¸°ë¡œ ì•ŒëŒ í†µê³„ì™€ ìµœê·¼ ì•ŒëŒ ëª©ë¡ì„ ì¡°íšŒí•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤. ì„¤ë¹„ ìƒíƒœëŠ” 5ê°€ì§€ ìƒ‰ìƒ(Green/Yellow/Red/Purple/Gray)ìœ¼ë¡œ êµ¬ë¶„ë˜ë©°, ì„¤ë¹„ ë°°ì¹˜ë„ ì´ë¯¸ì§€ ìœ„ì— ìƒíƒœ ë°•ìŠ¤ë¥¼ ì˜¤ë²„ë ˆì´ë¡œ ë°°ì¹˜í•©ë‹ˆë‹¤.

## Technical Context

**Language/Version**: TypeScript 5.3+ (Frontend), Python 3.11+ (Backend)
**Primary Dependencies**: 
  - Frontend: Next.js 14.2.33, React 18, Tailwind CSS, shadcn/ui
  - Backend: FastAPI, python-oracledb 2.0+ (âš ï¸ NOT cx_Oracle), websockets
**Storage**: Oracle DB (ì•ŒëŒ ë°ì´í„°), SQLite (ì„¤ì • ë°ì´í„°)
**Testing**: Manual testing with test scripts
**Target Platform**: Web browsers (Chrome, Edge, Firefox), 1280px+ resolution
**Project Type**: Web application (monorepo: apps/monitor/, backend/src/)
**Performance Goals**: 
  - WebSocket ì—…ë°ì´íŠ¸ ì§€ì—° <1ì´ˆ
  - Oracle DB ì¿¼ë¦¬ ì‹¤í–‰ <2ì´ˆ
  - í˜ì´ì§€ ì´ˆê¸° ë¡œë“œ <5ì´ˆ
  - 8ì‹œê°„ ì—°ì† ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì—†ìŒ)
**Constraints**: 
  - WebSocket ì¬ì—°ê²°: 3ì´ˆ ê°„ê²©, ìµœëŒ€ 5íšŒ
  - Oracle DB ê°±ì‹  ì£¼ê¸°: 10ì´ˆ ê³ ì •
  - ì„¤ë¹„ ìˆ˜ëŸ‰: 17ê°œ ê³ ì •
  - ì•ŒëŒ ëª©ë¡: ìµœê·¼ 5ê°œë§Œ í‘œì‹œ
**Scale/Scope**: 17ê°œ ì„¤ë¹„, 3ê°œ UI ì»´í¬ë„ŒíŠ¸ (ìƒë‹¨ ê·¸ë¦¬ë“œ, ì¤‘ì•™ ë ˆì´ì•„ì›ƒ, í•˜ë‹¨ ì•ŒëŒ), 1ê°œ WebSocket ì—°ê²°, 2ê°œ Oracle API ì—”ë“œí¬ì¸íŠ¸

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

### âœ… Compliance

- **Autonomous Implementation**: êµ¬í˜„ì€ `/speckit.implement`ë¡œ ìë™ ì‹¤í–‰ë˜ë©° ì¤‘ë‹¨ ì—†ì´ ì§„í–‰ë©ë‹ˆë‹¤.
- **Feature Independence**: Feature 7ì€ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë©°, ê¸°ì¡´ Feature 4 (Buffer & Oracle Writer)ì˜ WebSocket ì—”ë“œí¬ì¸íŠ¸ì™€ Oracle DB ì—°ë™ì„ í™œìš©í•©ë‹ˆë‹¤.
- **API-First Design**: ë°±ì—”ë“œì— 2ê°œì˜ REST API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (ì•ŒëŒ í†µê³„, ìµœê·¼ ì•ŒëŒ ëª©ë¡) ë° WebSocket ì—”ë“œí¬ì¸íŠ¸ í™œìš©.
- **Database Integrity**: Oracle DB ì—°ê²° ì‹œ python-oracledb ì‚¬ìš© (cx_Oracle ì‚¬ìš© ê¸ˆì§€), ì¿¼ë¦¬ íƒ€ì„ì•„ì›ƒ ë° ì—ëŸ¬ í•¸ë“¤ë§ ì ìš©.
- **Performance Standards**: Oracle ì¿¼ë¦¬ <2ì´ˆ, WebSocket ì—…ë°ì´íŠ¸ <1ì´ˆ, í˜ì´ì§€ ë¡œë“œ <5ì´ˆ ëª©í‘œ.
- **Error Handling**: WebSocket ì¬ì—°ê²° ì‹¤íŒ¨ ì‹œ ê²½ê³  ë©”ì‹œì§€, Oracle DB ì—°ê²° ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ ë° ì´ì „ ë°ì´í„° ìœ ì§€.
- **Testing Requirements**: WebSocket ì—°ê²°, Oracle API, ì„¤ë¹„ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ.

### ğŸš¨ Violations (None)

ëª¨ë“  Constitution ì›ì¹™ì„ ì¤€ìˆ˜í•˜ë©° ìœ„ë°˜ ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.

## Project Structure

### Documentation (this feature)

```text
specs/007-monitor-web-ui/
â”œâ”€â”€ spec.md              # Feature specification (3 user stories)
â”œâ”€â”€ plan.md              # This file
â”œâ”€â”€ research.md          # Phase 0 output (Oracle DB ìŠ¤í‚¤ë§ˆ, WebSocket ë©”ì‹œì§€ êµ¬ì¡°)
â”œâ”€â”€ data-model.md        # Phase 1 output (ì„¤ë¹„ ìƒíƒœ, ì•ŒëŒ ì—”í‹°í‹°)
â”œâ”€â”€ quickstart.md        # Phase 1 output (Monitor UI ì‹¤í–‰ ê°€ì´ë“œ)
â”œâ”€â”€ contracts/           # Phase 1 output (WebSocket ë° REST API ê³„ì•½)
â”‚   â”œâ”€â”€ websocket.md     # WebSocket ë©”ì‹œì§€ í¬ë§·
â”‚   â””â”€â”€ openapi.yaml     # REST API ìŠ¤í™ (ì•ŒëŒ í†µê³„, ìµœê·¼ ì•ŒëŒ)
â”œâ”€â”€ checklists/
â”‚   â””â”€â”€ requirements.md  # Requirements checklist (already created)
â””â”€â”€ tasks.md             # Phase 2 output (NOT created yet, will be generated by /speckit.tasks)
```

### Source Code (repository root)

```text
# Web application structure (Feature 7 adds Monitor UI)
apps/
â”œâ”€â”€ admin/              # ê´€ë¦¬ ì›¹ (Feature 6 - already exists)
â””â”€â”€ monitor/            # ëª¨ë‹ˆí„°ë§ ì›¹ (Feature 7 - NEW)
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ page.tsx            # ë©”ì¸ ëª¨ë‹ˆí„°ë§ í˜ì´ì§€
    â”‚   â”œâ”€â”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
    â”‚   â””â”€â”€ globals.css         # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ EquipmentGrid.tsx       # ìƒë‹¨ ì•ŒëŒ í†µê³„ ê·¸ë¦¬ë“œ
    â”‚   â”œâ”€â”€ EquipmentLayout.tsx     # ì¤‘ì•™ ì„¤ë¹„ ë°°ì¹˜ë„
    â”‚   â”œâ”€â”€ EquipmentStatusBox.tsx  # ì„¤ë¹„ ìƒíƒœ ë°•ìŠ¤
    â”‚   â”œâ”€â”€ AlarmList.tsx           # í•˜ë‹¨ ìµœê·¼ ì•ŒëŒ ëª©ë¡
    â”‚   â””â”€â”€ ui/                     # shadcn/ui ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ lib/
    â”‚   â”œâ”€â”€ api/
    â”‚   â”‚   â””â”€â”€ alarms.ts           # Oracle DB ì•ŒëŒ API í´ë¼ì´ì–¸íŠ¸
    â”‚   â”œâ”€â”€ hooks/
    â”‚   â”‚   â””â”€â”€ useWebSocket.ts     # WebSocket ì—°ê²° í›…
    â”‚   â”œâ”€â”€ types/
    â”‚   â”‚   â”œâ”€â”€ equipment.ts        # ì„¤ë¹„ ìƒíƒœ íƒ€ì…
    â”‚   â”‚   â””â”€â”€ alarm.ts            # ì•ŒëŒ íƒ€ì…
    â”‚   â””â”€â”€ utils.ts                # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ equipment-layout.png    # ì„¤ë¹„ ë°°ì¹˜ë„ ì´ë¯¸ì§€
    â”œâ”€â”€ next.config.js
    â”œâ”€â”€ tailwind.config.ts
    â”œâ”€â”€ tsconfig.json
    â””â”€â”€ package.json

backend/src/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ main.py              # FastAPI ì•± (ê¸°ì¡´)
â”‚   â”œâ”€â”€ alarm_routes.py      # ì•ŒëŒ API ë¼ìš°í„° (NEW)
â”‚   â””â”€â”€ models.py            # Pydantic ëª¨ë¸ (ì•ŒëŒ ì¶”ê°€)
â”œâ”€â”€ oracle_writer/
â”‚   â””â”€â”€ writer.py            # Oracle Writer (Feature 4 - ì•ŒëŒ ë°ì´í„° ì €ì¥ ê¸°ëŠ¥ í™•ì¸)
â””â”€â”€ scripts/
    â””â”€â”€ test_monitor_ui.py   # Monitor UI í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ (NEW)

# Monorepo configuration
package.json                # ë£¨íŠ¸ package.json (scripts ì¶”ê°€: dev:monitor)
```

**Structure Decision**: 
- ê¸°ì¡´ ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©° `apps/monitor/` ë””ë ‰í† ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- Feature 6 (Admin UI)ì™€ ë™ì¼í•œ ê¸°ìˆ  ìŠ¤íƒ (Next.js 14, shadcn/ui, TypeScript)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ë°±ì—”ë“œëŠ” `backend/src/api/alarm_routes.py`ë¥¼ ì¶”ê°€í•˜ì—¬ Oracle DB ì•ŒëŒ ì¡°íšŒ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- WebSocket ì—”ë“œí¬ì¸íŠ¸ëŠ” ê¸°ì¡´ í´ë§ ì—”ì§„ì˜ WebSocket ì„œë²„ë¥¼ í™•ì¥í•˜ê±°ë‚˜ ë³„ë„ ì—”ë“œí¬ì¸íŠ¸ (`/ws/monitor`)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

## Complexity Tracking

> **No violations - this section is intentionally left empty.**
